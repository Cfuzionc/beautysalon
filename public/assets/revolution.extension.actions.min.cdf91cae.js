(function($){var _R=jQuery.fn.revolution,_ISM=_R.is_mobile(),extension={alias:"Actions Min JS",name:"revolution.extensions.actions.min.js",min_core:"5.4.5",version:"2.1.0"};jQuery.extend(!0,_R,{checkActions:function(r,o,n){if(_R.compare_version(extension).check==="stop")return!1;checkActions_intern(r,o,n)}});var checkActions_intern=function(r,o,n){n&&jQuery.each(n,function(g,e){e.delay=parseInt(e.delay,0)/1e3,r.addClass("tp-withaction"),o.fullscreen_esclistener||e.action!="exitfullscreen"&&e.action!="togglefullscreen"||(jQuery(document).keyup(function(l){l.keyCode==27&&jQuery("#rs-go-fullscreen").length>0&&r.trigger(e.event)}),o.fullscreen_esclistener=!0);var c=e.layer=="backgroundvideo"?jQuery(".rs-background-video-layer"):e.layer=="firstvideo"?jQuery(".tp-revslider-slidesli").find(".tp-videolayer"):jQuery("#"+e.layer);switch(jQuery.inArray(e.action,["toggleslider","toggle_mute_video","toggle_global_mute_video","togglefullscreen"])!=-1&&r.data("togglelisteners",!0),e.action){case"togglevideo":jQuery.each(c,function(l,t){var i=(t=jQuery(t)).data("videotoggledby");i==null&&(i=new Array),i.push(r),t.data("videotoggledby",i)});break;case"togglelayer":jQuery.each(c,function(l,t){var i=(t=jQuery(t)).data("layertoggledby");i==null&&(i=new Array),i.push(r),t.data("layertoggledby",i),t.data("triggered_startstatus",e.layerstatus)});break;case"toggle_mute_video":case"toggle_global_mute_video":jQuery.each(c,function(l,t){var i=(t=jQuery(t)).data("videomutetoggledby");i==null&&(i=new Array),i.push(r),t.data("videomutetoggledby",i)});break;case"toggleslider":o.slidertoggledby==null&&(o.slidertoggledby=new Array),o.slidertoggledby.push(r);break;case"togglefullscreen":o.fullscreentoggledby==null&&(o.fullscreentoggledby=new Array),o.fullscreentoggledby.push(r)}switch(r.on(e.event,function(){if(e.event==="click"&&r.hasClass("tp-temporarydisabled"))return!1;var l=e.layer=="backgroundvideo"?jQuery(".active-revslide .slotholder .rs-background-video-layer"):e.layer=="firstvideo"?jQuery(".active-revslide .tp-videolayer").first():jQuery("#"+e.layer);if(e.action=="stoplayer"||e.action=="togglelayer"||e.action=="startlayer"){if(l.length>0){var t=l.data();t.clicked_time_stamp!==void 0&&new Date().getTime()-t.clicked_time_stamp>150&&(clearTimeout(t.triggerdelayIn),clearTimeout(t.triggerdelayOut)),t.clicked_time_stamp=new Date().getTime(),e.action=="startlayer"||e.action=="togglelayer"&&l.data("animdirection")!="in"?(t.animdirection="in",t.triggerstate="on",_R.toggleState(t.layertoggledby),_R.playAnimationFrame&&(clearTimeout(t.triggerdelayIn),t.triggerdelayIn=setTimeout(function(){_R.playAnimationFrame({caption:l,opt:o,frame:"frame_0",triggerdirection:"in",triggerframein:"frame_0",triggerframeout:"frame_999"})},1e3*e.delay))):(e.action=="stoplayer"||e.action=="togglelayer"&&l.data("animdirection")!="out")&&(t.animdirection="out",t.triggered=!0,t.triggerstate="off",_R.stopVideo&&_R.stopVideo(l,o),_R.unToggleState(t.layertoggledby),_R.endMoveCaption&&(clearTimeout(t.triggerdelayOut),t.triggerdelayOut=setTimeout(function(){_R.playAnimationFrame({caption:l,opt:o,frame:"frame_999",triggerdirection:"out",triggerframein:"frame_0",triggerframeout:"frame_999"})},1e3*e.delay)))}}else!_ISM||e.action!="playvideo"&&e.action!="stopvideo"&&e.action!="togglevideo"&&e.action!="mutevideo"&&e.action!="unmutevideo"&&e.action!="toggle_mute_video"&&e.action!="toggle_global_mute_video"?(e.delay=e.delay==="NaN"||e.delay===NaN?0:e.delay,_R.isSafari11()?actionSwitches(l,o,e,r):punchgs.TweenLite.delayedCall(e.delay,function(){actionSwitches(l,o,e,r)},[l,o,e,r])):actionSwitches(l,o,e,r)}),e.action){case"togglelayer":case"startlayer":case"playlayer":case"stoplayer":var s=(c=jQuery("#"+e.layer)).data();c.length>0&&s!==void 0&&(s.frames!==void 0&&s.frames[0].delay!="bytrigger"||s.frames===void 0&&s.start!=="bytrigger")&&(s.triggerstate="on")}})},actionSwitches=function(tnc,opt,a,_nc){switch(a.action){case"scrollbelow":a.speed=a.speed!==void 0?a.speed:400,a.ease=a.ease!==void 0?a.ease:punchgs.Power2.easeOut,_nc.addClass("tp-scrollbelowslider"),_nc.data("scrolloffset",a.offset),_nc.data("scrolldelay",a.delay),_nc.data("scrollspeed",a.speed),_nc.data("scrollease",a.ease);var off=getOffContH(opt.fullScreenOffsetContainer)||0,aof=parseInt(a.offset,0)||0;off=off-aof||0,opt.scrollRoot=jQuery(document);var sobj={_y:opt.scrollRoot.scrollTop()};punchgs.TweenLite.to(sobj,a.speed/1e3,{_y:opt.c.offset().top+jQuery(opt.li[0]).height()-off,ease:a.ease,onUpdate:function(){opt.scrollRoot.scrollTop(sobj._y)}});break;case"callback":eval(a.callback);break;case"jumptoslide":switch(a.slide.toLowerCase()){case"+1":case"next":opt.sc_indicator="arrow",_R.callingNewSlide(opt.c,1);break;case"previous":case"prev":case"-1":opt.sc_indicator="arrow",_R.callingNewSlide(opt.c,-1);break;default:var ts=jQuery.isNumeric(a.slide)?parseInt(a.slide,0):a.slide;_R.callingNewSlide(opt.c,ts)}break;case"simplelink":window.open(a.url,a.target);break;case"toggleslider":opt.noloopanymore=0,opt.sliderstatus=="playing"?(opt.c.revpause(),opt.forcepause_viatoggle=!0,_R.unToggleState(opt.slidertoggledby)):(opt.forcepause_viatoggle=!1,opt.c.revresume(),_R.toggleState(opt.slidertoggledby));break;case"pauseslider":opt.c.revpause(),_R.unToggleState(opt.slidertoggledby);break;case"playslider":opt.noloopanymore=0,opt.c.revresume(),_R.toggleState(opt.slidertoggledby);break;case"playvideo":tnc.length>0&&_R.playVideo(tnc,opt);break;case"stopvideo":tnc.length>0&&_R.stopVideo&&_R.stopVideo(tnc,opt);break;case"togglevideo":tnc.length>0&&(_R.isVideoPlaying(tnc,opt)?_R.stopVideo&&_R.stopVideo(tnc,opt):_R.playVideo(tnc,opt));break;case"mutevideo":tnc.length>0&&_R.muteVideo(tnc,opt);break;case"unmutevideo":tnc.length>0&&_R.unMuteVideo&&_R.unMuteVideo(tnc,opt);break;case"toggle_mute_video":tnc.length>0&&(_R.isVideoMuted(tnc,opt)?_R.unMuteVideo(tnc,opt):_R.muteVideo&&_R.muteVideo(tnc,opt)),_nc.toggleClass("rs-toggle-content-active");break;case"toggle_global_mute_video":opt.globalmute===!0?(opt.globalmute=!1,opt.playingvideos!=null&&opt.playingvideos.length>0&&jQuery.each(opt.playingvideos,function(r,o){_R.unMuteVideo&&_R.unMuteVideo(o,opt)})):(opt.globalmute=!0,opt.playingvideos!=null&&opt.playingvideos.length>0&&jQuery.each(opt.playingvideos,function(r,o){_R.muteVideo&&_R.muteVideo(o,opt)})),_nc.toggleClass("rs-toggle-content-active");break;case"simulateclick":tnc.length>0&&tnc.click();break;case"toggleclass":tnc.length>0&&(tnc.hasClass(a.classname)?tnc.removeClass(a.classname):tnc.addClass(a.classname));break;case"gofullscreen":case"exitfullscreen":case"togglefullscreen":if(jQuery(".rs-go-fullscreen").length>0&&(a.action=="togglefullscreen"||a.action=="exitfullscreen")){jQuery(".rs-go-fullscreen").removeClass("rs-go-fullscreen");var gf=opt.c.closest(".forcefullwidth_wrapper_tp_banner").length>0?opt.c.closest(".forcefullwidth_wrapper_tp_banner"):opt.c.closest(".rev_slider_wrapper");opt.minHeight=opt.oldminheight,opt.infullscreenmode=!1,opt.c.revredraw(),jQuery(window).trigger("resize"),_R.unToggleState(opt.fullscreentoggledby)}else if(jQuery(".rs-go-fullscreen").length==0&&(a.action=="togglefullscreen"||a.action=="gofullscreen")){var gf=opt.c.closest(".forcefullwidth_wrapper_tp_banner").length>0?opt.c.closest(".forcefullwidth_wrapper_tp_banner"):opt.c.closest(".rev_slider_wrapper");gf.addClass("rs-go-fullscreen"),opt.oldminheight=opt.minHeight,opt.minHeight=jQuery(window).height(),opt.infullscreenmode=!0,opt.c.revredraw(),jQuery(window).trigger("resize"),_R.toggleState(opt.fullscreentoggledby)}break;default:var obj={};obj.event=a,obj.layer=_nc,opt.c.trigger("layeraction",[obj])}},getOffContH=function(r){if(r==null)return 0;if(r.split(",").length>1){var o=r.split(","),n=0;return o&&jQuery.each(o,function(g,e){jQuery(e).length>0&&(n+=jQuery(e).outerHeight(!0))}),n}return jQuery(r).height()}})(jQuery);
